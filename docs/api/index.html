<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Reference - SyftPerm</title>
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .api-method {
            background: white;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 12px;
            padding: var(--space-4);
            margin-bottom: var(--space-4);
        }
        
        .method-signature {
            background: var(--color-code-bg);
            padding: var(--space-2) var(--space-3);
            border-radius: 8px;
            font-family: var(--font-mono);
            font-size: 1.1rem;
            margin-bottom: var(--space-3);
        }
        
        .param-list {
            list-style: none;
            padding: 0;
            margin: var(--space-2) 0;
        }
        
        .param-list li {
            padding: var(--space-1) 0;
            font-family: var(--font-mono);
            font-size: 0.95rem;
        }
        
        .param-name {
            color: var(--color-primary);
            font-weight: 600;
        }
        
        .param-type {
            color: var(--color-gray);
        }
        
        .returns {
            margin-top: var(--space-3);
            padding-top: var(--space-3);
            border-top: 1px solid rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <div class="nav-wrapper">
                <a href="../index.html" class="logo">SyftPerm</a>
                <div class="nav-links">
                    <a href="../quickstart.html">Quick Start</a>
                    <a href="index.html" class="active">API</a>
                    <a href="https://github.com/OpenMined/syft-perm" class="github-link">GitHub</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- API Hero -->
    <section class="api-hero">
        <div class="container">
            <h1>API Reference</h1>
            <p class="hero-subtitle">Every method, clearly explained.</p>
        </div>
    </section>

    <!-- Main Functions -->
    <section class="api-section">
        <div class="container">
            <h2>Opening Files & Folders</h2>
            
            <div class="api-method">
                <div class="method-signature">syft_perm.open(path)</div>
                <p>Open a file or folder for permission management.</p>
                <ul class="param-list">
                    <li><span class="param-name">path</span> <span class="param-type">str</span> - Path to file or directory</li>
                </ul>
                <div class="returns">
                    <strong>Returns:</strong> SyftFile or SyftFolder object
                </div>
                <pre><code class="language-python">file = syft_perm.open("data.csv")
folder = syft_perm.open("project/")</code></pre>
            </div>
        </div>
    </section>

    <!-- Permission Methods -->
    <section class="api-section alt-bg">
        <div class="container">
            <h2>Granting Permissions</h2>
            
            <div class="api-method">
                <div class="method-signature">grant_read_access(user)</div>
                <p>Grant read-only access to a user.</p>
                <ul class="param-list">
                    <li><span class="param-name">user</span> <span class="param-type">str</span> - Email address or "*" for public</li>
                </ul>
                <pre><code class="language-python">file.grant_read_access("alice@example.com")
file.grant_read_access("*")  # Make public</code></pre>
            </div>
            
            <div class="api-method">
                <div class="method-signature">grant_write_access(user)</div>
                <p>Grant read and write access to a user.</p>
                <ul class="param-list">
                    <li><span class="param-name">user</span> <span class="param-type">str</span> - Email address</li>
                </ul>
                <pre><code class="language-python">file.grant_write_access("bob@example.com")</code></pre>
            </div>
            
            <div class="api-method">
                <div class="method-signature">grant_admin_access(user)</div>
                <p>Grant full control including permission management.</p>
                <ul class="param-list">
                    <li><span class="param-name">user</span> <span class="param-type">str</span> - Email address</li>
                </ul>
                <pre><code class="language-python">file.grant_admin_access("admin@example.com")</code></pre>
            </div>
        </div>
    </section>

    <!-- Checking Permissions -->
    <section class="api-section">
        <div class="container">
            <h2>Checking Permissions</h2>
            
            <div class="api-method">
                <div class="method-signature">has_read_access(user)</div>
                <p>Check if a user can read the file.</p>
                <ul class="param-list">
                    <li><span class="param-name">user</span> <span class="param-type">str</span> - Email address to check</li>
                </ul>
                <div class="returns">
                    <strong>Returns:</strong> bool - True if user has read access
                </div>
                <pre><code class="language-python">if file.has_read_access("alice@example.com"):
    print("Alice can read this file")</code></pre>
            </div>
            
            <div class="api-method">
                <div class="method-signature">has_write_access(user)</div>
                <p>Check if a user can write to the file.</p>
                <ul class="param-list">
                    <li><span class="param-name">user</span> <span class="param-type">str</span> - Email address to check</li>
                </ul>
                <div class="returns">
                    <strong>Returns:</strong> bool - True if user has write access
                </div>
            </div>
            
            <div class="api-method">
                <div class="method-signature">has_admin_access(user)</div>
                <p>Check if a user has admin permissions.</p>
                <ul class="param-list">
                    <li><span class="param-name">user</span> <span class="param-type">str</span> - Email address to check</li>
                </ul>
                <div class="returns">
                    <strong>Returns:</strong> bool - True if user has admin access
                </div>
            </div>
        </div>
    </section>

    <!-- Revoking Permissions -->
    <section class="api-section alt-bg">
        <div class="container">
            <h2>Revoking Permissions</h2>
            
            <div class="api-method">
                <div class="method-signature">revoke_access(user)</div>
                <p>Remove all permissions for a user.</p>
                <ul class="param-list">
                    <li><span class="param-name">user</span> <span class="param-type">str</span> - Email address to revoke</li>
                </ul>
                <pre><code class="language-python">file.revoke_access("alice@example.com")</code></pre>
            </div>
            
            <div class="api-method">
                <div class="method-signature">revoke_all_access()</div>
                <p>Remove all permissions from everyone (except owner).</p>
                <pre><code class="language-python">file.revoke_all_access()</code></pre>
            </div>
        </div>
    </section>

    <!-- Utility Methods -->
    <section class="api-section">
        <div class="container">
            <h2>Utility Methods</h2>
            
            <div class="api-method">
                <div class="method-signature">get_permissions()</div>
                <p>Get a dictionary of all current permissions.</p>
                <div class="returns">
                    <strong>Returns:</strong> dict - Users mapped to their permission levels
                </div>
                <pre><code class="language-python">perms = file.get_permissions()
# {'alice@example.com': 'read', 'bob@example.com': 'write'}</code></pre>
            </div>
            
            <div class="api-method">
                <div class="method-signature">explain_permissions(user)</div>
                <p>Get detailed explanation of why a user has or doesn't have access.</p>
                <ul class="param-list">
                    <li><span class="param-name">user</span> <span class="param-type">str</span> - Email address to explain</li>
                </ul>
                <div class="returns">
                    <strong>Returns:</strong> str - Human-readable explanation
                </div>
                <pre><code class="language-python">explanation = file.explain_permissions("alice@example.com")
print(explanation)
# "alice@example.com has read access granted directly on data.csv"</code></pre>
            </div>
        </div>
    </section>

    <!-- Permission Hierarchy -->
    <section class="api-section alt-bg">
        <div class="container">
            <h2>Permission Hierarchy</h2>
            <p>Permissions follow a simple hierarchy:</p>
            <div style="text-align: center; font-size: 1.3rem; margin: var(--space-4) 0;">
                <code>read</code> → <code>write</code> → <code>admin</code>
            </div>
            <p>Each level includes all permissions from previous levels:</p>
            <ul style="font-size: 1.1rem; line-height: 2;">
                <li><strong>read</strong> - Can view file contents</li>
                <li><strong>write</strong> - Can read + modify file contents</li>
                <li><strong>admin</strong> - Can read + write + manage permissions</li>
            </ul>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>Built with ❤️ by <a href="https://openmined.org">OpenMined</a></p>
        </div>
    </footer>

    <script src="../js/main.js"></script>
</body>
</html>